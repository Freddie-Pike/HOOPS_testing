(this["webpackJsonphwp-demo-react-microengine"]=this["webpackJsonphwp-demo-react-microengine"]||[]).push([[0],{1:function(e,t){e.exports=Communicator},14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a.n(s),c=a(9),r=a.n(c),n=a(4),o=a(5),l=a(3),d=a(7),h=a(6),u=(a(14),a.p+"static/media/microengine.13206977.scs"),p=a.p+"static/media/ts3d_logo.e5dcf0a8.png",j=a(19),b=a(1),m=a.n(b),v=a(0),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).viewerId=Object(j.a)(),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=new m.a.WebViewer({containerId:this.viewerId,endpointUri:this.props.modelUri});e.setCallbacks({sceneReady:function(){e.view.setBackgroundColor(m.a.Color.white(),m.a.Color.white())}}),e.start(),window.addEventListener("resize",(function(){e.resizeCanvas()})),this.props.hwvReady(e)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"bg-light w-100 h-100 position-relative",id:this.viewerId})}}]),a}(s.Component),x=(a(16),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).updateItemList=s.updateItemList.bind(Object(l.a)(s)),s.rootNodeId=s.props.hwv.model.getAbsoluteRootNode(),s.itemList={},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;for(var t in this.itemList)this.itemList[t].setSelect(!1);this.props.hwv.setCallbacks({selectionArray:function(t){for(var a in e.itemList)e.itemList[a].setSelect(!1);t.forEach((function(t){var a=t.getSelection().getNodeId();e.itemList[a].setSelect(!0)}))}})}},{key:"updateItemList",value:function(e,t){this.itemList[e]=t}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"list-group",children:[Object(v.jsx)("div",{className:"d-none"}),Object(v.jsx)(g,{hwv:this.props.hwv,nodeId:this.rootNodeId,level:0,updateItemList:this.updateItemList})]})}}]),a}(s.Component)),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;switch(Object(n.a)(this,a),(s=t.call(this,e)).setSelect=s.setSelect.bind(Object(l.a)(s)),s.selectClick=s.selectClick.bind(Object(l.a)(s)),s.collapseClick=s.collapseClick.bind(Object(l.a)(s)),s.childrenId=[],s.nodeName="",s.state={isSelected:!1,isCollapsed:!1},s.props.hwv.model.getNodeType(s.props.nodeId)){case m.a.NodeType.Part:case m.a.NodeType.PartInstance:case m.a.NodeType.BodyInstance:case m.a.NodeType.AssemblyNode:s.nodeName=s.props.hwv.model.getNodeName(s.props.nodeId),s.childrenId=s.props.hwv.model.getNodeChildren(s.props.nodeId),s.props.updateItemList(s.props.nodeId,Object(l.a)(s))}return s}return Object(o.a)(a,[{key:"setSelect",value:function(e){this.setState({isSelected:e})}},{key:"selectClick",value:function(e){this.props.hwv.selectPart(this.state.isSelected?null:this.props.nodeId)}},{key:"collapseClick",value:function(e){this.setState({isCollapsed:!this.state.isCollapsed})}},{key:"render",value:function(){var e=this,t={paddingLeft:20*this.props.level+10,marginBottom:-1},s=this.childrenId.map((function(t){return Object(v.jsx)(a,{hwv:e.props.hwv,nodeId:t,level:e.props.level+1,updateItemList:e.props.updateItemList},t)})),c=(this.childrenId.length>0?"caret ":"")+(this.state.isCollapsed?"":"caret-down"),r=this.state.isSelected?"bg-primary text-white ":"";return Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsxs)("div",{className:"list-group-item list-group-item-action d-flex py-1 "+r,style:t,children:[Object(v.jsx)("div",{className:"py-1 "+c,onClick:this.collapseClick}),Object(v.jsx)("div",{className:"py-1 flex-fill cursor-pointer user-select-none",onClick:this.selectClick,children:this.nodeName})]}),Object(v.jsx)("div",{className:this.state.isCollapsed?"d-none":"",children:s})]})}}]),a}(s.Component),f=x,w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).hwvReady=s.hwvReady.bind(Object(l.a)(s)),s.changeTab=s.changeTab.bind(Object(l.a)(s)),s.changeOperator=s.changeOperator.bind(Object(l.a)(s)),s.state={hwv:null,currentTab:1,cameraStatus:null,operator:"Orbit",isStructureReady:!1},s}return Object(o.a)(a,[{key:"hwvReady",value:function(e){var t=this;this.setState({hwv:e},(function(){t.state.hwv.setCallbacks({sceneReady:function(){t.setState({cameraStatus:t.state.hwv.view.getCamera().toJson()})},modelStructureReady:function(){t.setState({isStructureReady:!0})},camera:function(){t.setState({cameraStatus:t.state.hwv.view.getCamera().toJson()})}})}))}},{key:"changeOperator",value:function(e){var t=this;this.setState({operator:e.target.value},(function(){t.state.hwv&&(t.state.hwv.operatorManager.clear(),t.state.hwv.operatorManager.push(m.a.OperatorId.Orbit),"Area Select"===t.state.operator?t.state.hwv.operatorManager.push(m.a.OperatorId.AreaSelect):"Select"===t.state.operator?t.state.hwv.operatorManager.push(m.a.OperatorId.Select):"Measure"===t.state.operator&&t.state.hwv.operatorManager.push(m.a.OperatorId.MeasurePointPointDistance))}))}},{key:"changeTab",value:function(e){this.setState({currentTab:e})}},{key:"render",value:function(){var e=this,t=function(t,a){return Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("button",{className:"nav-link "+(e.state.currentTab===t?"active":""),onClick:function(){e.changeTab(t)},type:"button",children:a})})},a=null==this.state.cameraStatus?Object(v.jsx)("p",{children:"Unavailable"}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Position:"}),this.state.cameraStatus.position.x.toFixed(2),", ",this.state.cameraStatus.position.y.toFixed(2),", ",this.state.cameraStatus.position.z.toFixed(2)]}),Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Target:"}),this.state.cameraStatus.target.x.toFixed(2),", ",this.state.cameraStatus.target.y.toFixed(2),", ",this.state.cameraStatus.target.z.toFixed(2)]}),Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Up:"}),this.state.cameraStatus.up.x.toFixed(2),", ",this.state.cameraStatus.up.y.toFixed(2),", ",this.state.cameraStatus.up.z.toFixed(2)]}),Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Width:"})," ",this.state.cameraStatus.width.toFixed(2)," \xa0",Object(v.jsx)("strong",{children:"Height:"})," ",this.state.cameraStatus.height.toFixed(2)]}),Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Projection:"})," ",this.state.cameraStatus.projection.toFixed(2)," \xa0",Object(v.jsx)("strong",{children:"NearLimit:"})," ",this.state.cameraStatus.nearLimit.toFixed(2)]}),Object(v.jsxs)("p",{className:"mb-0",children:[Object(v.jsx)("strong",{children:"Class Name:"})," ",this.state.cameraStatus.className]})]}),s=Object(v.jsxs)("div",{className:"tab-pane fade show "+(1===this.state.currentTab?"active":""),children:[Object(v.jsx)("h2",{children:"React Demo for Hoops Web Platform"}),Object(v.jsx)("h5",{children:"Operator"}),Object(v.jsxs)("select",{className:"form-select mb-3",value:this.state.operator,onChange:this.changeOperator,children:[Object(v.jsx)("option",{value:"Orbit",children:"Orbit"}),Object(v.jsx)("option",{value:"Area Select",children:"Area Select"}),Object(v.jsx)("option",{value:"Select",children:"Select"}),Object(v.jsx)("option",{value:"Measure",children:"Measure"})]}),Object(v.jsx)("h5",{children:"Camera Status"}),a]}),i=Object(v.jsxs)("div",{className:"tab-pane fade show "+(2===this.state.currentTab?"active":""),children:[Object(v.jsx)("h5",{children:"Model Structure"}),this.state.isStructureReady?Object(v.jsx)(f,{hwv:this.state.hwv}):Object(v.jsx)("p",{children:"Model structure is not ready"})]});return Object(v.jsxs)("div",{className:"container-fluid p-0 m-0",children:[Object(v.jsxs)("div",{className:"row p-0 m-0",style:{height:"100vh"},children:[Object(v.jsx)("div",{className:"col-6 p-0 m-0 border-end",children:Object(v.jsx)(O,{modelUri:u,hwvReady:this.hwvReady})}),Object(v.jsxs)("div",{className:"col-6 p-0 m-0 overflow-scroll",style:{height:"100vh"},children:[Object(v.jsx)("img",{src:p,className:"img-fluid m-3",style:{maxHeight:"100px"},alt:"TechSoft 3D LOGO"}),Object(v.jsxs)("ul",{className:"nav nav-tabs px-3",children:[t(1,"Home"),t(2,"ModelStructure")]}),Object(v.jsxs)("div",{className:"tab-content p-3",children:[s,i]})," "]})," "]})," "]})}}]),a}(s.Component);r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.99e813da.chunk.js.map